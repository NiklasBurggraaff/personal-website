---
const { icon, ...props } = Astro.props;

const [, attributes, children] = icon;

const componentChildren = children
    ?.map(
        ([shape, attributes]: [String, object]) =>
            `<${shape} ${Object.entries(attributes)
                .map(([k, v]) => `${k}="${v}"`)
                .join(" ")} />`
    )
    .join("");

const componentAttributes = { ...attributes, ...props };
---

<svg {...componentAttributes} set:html={componentChildren} />
